# Information Retrieval System for Digikala’s FAQ

This project develops an Information Retrieval System for Digikala’s FAQ section using TF-IDF and LaBSE-based embeddings, with ranking via cosine similarity, Jaccard similarity, and a custom metric. It supports Persian text processing with Hazm and Parsivar, focusing on data collection, augmentation, and evaluation.

## Table of Contents

- [Introduction](#introduction)
- [Features](#features)
- [Installation](#installation)
- [Usage Development](#usage-development)
- [Usage Production](#usage-production)
- [Project Structure](#project-structure)
- [Contributing](#contributing)
- [License](#license)

## Introduction

This project aims to provide an efficient Information Retrieval System for Digikala’s FAQ section. It leverages various text processing techniques and ranking algorithms to enhance the search experience for Persian text.

## Features

- **Text Processing**: Utilizes Hazm and Parsivar for Persian text processing.
- **Embeddings**: Uses TF-IDF and LaBSE-based embeddings.
- **Ranking Algorithms**: Supports cosine similarity, Jaccard similarity, and a custom metric for ranking.
- **Data Augmentation**: Focuses on data collection and augmentation to improve retrieval performance.

## Installation

To set up the project locally, follow these steps:

1. Clone the repository:
    ```sh
    git clone https://github.com/jonathansina/information-retrieval-system.git
    cd information-retrieval-system
    ```

2. Create a virtual environment and activate it:
    ```sh
    python -m venv venv
    source venv/bin/activate  # On Windows, use `venv\Scripts\activate`
    ```

3. Install the required packages:
    ```sh
    pip install -r requirements.txt
    ```

## Usage Development

To use the Information Retrieval System for development and test, follow these steps:

1. Prepare your dataset and place it in the `data` directory.
2. Define the pipeline in training mode as shown in src/pipelines/pipeline/builder.py. 
3. Define the pipeline in inference mode to use the model for predictions.
4. All results will be saved to MLflow on localhost:9437.

## Usage Production
To use the UI and `app.py` of the Information Retrieval System for production, follow these steps:

### Using `app.py`
1. **Install Required Packages**:
   Ensure you have the necessary packages installed. You can use the following command to install them:
   ```bash
   pip install flask flask_socketio flask_cors
   ```

2. **Run the Application**:
   Start the application by running the `app.py` script. Use the following command in the terminal:
   ```bash
   python app.py
   ```
   This will start a Flask server on `localhost` at port `5000`.

3. **Submit Queries**:
   The application exposes an endpoint `/submit` to submit queries via POST requests. You can use a tool like `curl` or Postman to submit queries:
   ```bash
   curl -X POST http://localhost:5000/submit -H "Content-Type: application/json" -d '{"query": "your question here"}'
   ```

### Using the UI
1. **Access the UI**:
   Open your web browser and navigate to `http://localhost:5000`. This will load the `index.html` file which serves as the user interface.

2. **Submit Queries**:
   - Use the input field to enter your query.
   - Click the send button (represented by a send icon) to submit your query.

3. **View Results**:
   - Retrieval results and responses generated by the system will be displayed on the page.

For any additional styling or script modifications, refer to the `index.html` file located in the `ui` directory. 

For more details, you can view the source files directly:
- [app.py](https://github.com/jonathansina/information-retrieval-system/blob/ab2763567ac67015d4265a6e334961de8405bab7/app.py)
- [index.html](https://github.com/jonathansina/information-retrieval-system/blob/ab2763567ac67015d4265a6e334961de8405bab7/ui/index.html)

## Project Structure

- `data/`: Directory to store datasets.
- `dev/`: Jupyter notebooks for preprocessing, training, and evaluation.
- `src/`: Python scripts for running the models and evaluating performance.
- `requirements.txt`: List of required Python packages.
- `README.md`: Project documentation.

## Contributing

Contributions are welcome! Please follow these steps:
1. Fork the repository.
2. Create a new branch (`git checkout -b feature-branch`).
3. Commit your changes (`git commit -m 'Add some feature'`).
4. Push to the branch (`git push origin feature-branch`).
5. Open a pull request.

## License

This project is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.
